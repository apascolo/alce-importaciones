import{a as k,b as D,c as M}from"./chunk-Y42JTRCT.js";import{e as s,g as C,i as E,j as F,q as L,s as I}from"./chunk-5DOKFYFB.js";import{K as _}from"./chunk-HA4TPZSF.js";import{a as x}from"./chunk-AIWPLCOS.js";import"./chunk-2VROBK5A.js";import{i as S,m as w}from"./chunk-IS723BJZ.js";import"./chunk-W7AFIDCE.js";import{Gb as d,Qb as r,Rb as m,Sb as p,Zb as c,bd as y,hc as u,jc as b,mb as a,mc as v,ta as l,za as g}from"./chunk-K3OKKPLL.js";var f=function(t){return t.Error="error",t.Info="info",t.Success="success",t.Warning="warning",t}(f||{});var H=(()=>{let i=class i{constructor(){this.fb=l(L),this.authService=l(_),this.notification=l(M),this.router=l(S),this.isLoading=!1,this.year=new Date().getFullYear(),this.buildForm()}ngOnInit(){this.buildForm()}controlInvalid(o){return this.form.get(o)?.invalid&&this.form.get(o)?.dirty}buildForm(){this.form=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,s.minLength(6),s.maxLength(12)]]})}handleSubmit(){if(this.form.invalid)return;this.isLoading=!0;let{email:o,password:n}=this.form.value;this.authService.login({email:o,password:n}).then(()=>{this.isLoading=!1,this.router.navigateByUrl(x.Root)}).catch(e=>{this.isLoading=!1,this.notification.create(f.Error,"Error",e.message)})}};i.\u0275fac=function(n){return new(n||i)},i.\u0275cmp=g({type:i,selectors:[["app-login"]],standalone:!0,features:[v],decls:13,vars:5,consts:[[1,"flex","items-center","justify-center","w-full","h-full","flex-col","bg-gray-200"],[1,"w-1/4","bg-slate-100","p-8","rounded-md","shadow-md","ring-1","ring-gray-200","mb-5"],["src","assets/images/logo-alce-importaciones-horizontal.webp","alt","logo alce importaciones","width","200px",1,"m-auto","mb-5"],[1,"block","text-2xl","text-gray-900","mb-6","w-full","font-medium","text-center"],[1,"mb-3",3,"submit","keydown.enter","formGroup"],["controlName","email","label","Correo","type","email","placeholder","micorreo@empresa.com","classes","mb-2",3,"hasError"],["controlName","password","label","Contrase\xF1a","type","password","placeholder","6 - 12 caracteres","maxlength","12",3,"hasError"],["name","Ingresar","classes","mb-3",3,"onSubmit","isLoading"],[1,"text-gray-900","hover:text-orange-600","font-medium"],[1,"m-0","block","w-full","text-center","text-gray-400"]],template:function(n,e){n&1&&(r(0,"div",0)(1,"div",1),p(2,"img",2),r(3,"h1",3),u(4," Portal Administrativo "),m(),r(5,"form",4),c("submit",function(){return e.handleSubmit()})("keydown.enter",function(){return e.handleSubmit()}),p(6,"app-text-field",5)(7,"app-text-field",6),m(),r(8,"app-button",7),c("onSubmit",function(){return e.handleSubmit()}),m(),r(9,"a",8),u(10," \xBFOlvidaste tu contrase\xF1a? "),m()(),r(11,"p",9),u(12),m()()),n&2&&(a(5),d("formGroup",e.form),a(),d("hasError",e.controlInvalid("email")),a(),d("hasError",e.controlInvalid("password")),a(),d("isLoading",e.isLoading),a(4),b(" \xA9",e.year," - ALCE Importaciones "))},dependencies:[y,w,I,E,C,F,k,D]});let t=i;return t})();export{H as LoginComponent};
